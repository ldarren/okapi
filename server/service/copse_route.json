{
    "spec": {
		"copse": {
            "type": "object",
            "required": 1,
            "spec": {
				"name": "string"
			}
		},
		"copse_msg": {
            "type": "object",
            "required": 1,
            "spec": {
				"msg": {
					"type": "string",
					"required": 1
				}
			}
		}
	},
	"routes":{
		"GET/copse/init": [
			["crdt.getAllChanges", "_.record", "_.output"]
		],
		"GET/copse/id": [
            [["util.input", "@.spec.copse"], "_.record", "_.input"],
			["util.extend", "_.input", "_.params", "_.room"],
            ["db.get", "$.db.user", "_.user.i", "_.user"],
			["crdt.getAllChanges", "_.record", "_.output"],
			["room.join", "_.room", "_.user", "_.output", "_.status"]
		],
		"GET/copse/id": [
            ["room.verify", "_.params.id", "_.user.i"],
			["room.get", "_.params.id", "_.status"]
		],
		"DELETE/copse/id": [
            ["room.verify", "_.params.id", "_.user.i"],
			["room.remove", "_.params.id", "_.user.i", "_.status"]
		]
	}
}
